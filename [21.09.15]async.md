# ğŸ‘‰ asnyc & await
ë¹„ë™ê¸°ë¥¼ ìœ„í•´ ë‚˜ì˜¨ ìµœê·¼ì˜ ë°©ë²•ì´ë‹¤(ES8)

promiseë¥¼ ì‚¬ìš©í• ë•Œ thenì„ ì—¬ëŸ¬ê°œ ì—°ê²°í•˜ëŠ” ê²ƒì„ promise chainingì´ë¼ê³  í•˜ëŠ”ë° ë§ì€ ìˆ˜ì˜ promiseê°€ ì‚¬ìš©ë˜ë‹¤ë³´ë©´ ê°€ë…ì„±ì´ ì¢‹ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.

asyncëŠ” promiseë¥¼ ë”ìš± ê°„ë‹¨í•˜ê²Œ, ê°„ê²°í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```javascript
const delay = async (time, num) => {
    return new Promise((resolve) => {
        setTimeout(() => {
            resolve(num);
        },time)
    })
}

const first = async() => {
    const f = await delay(1000, 1);
    console.log(f)
    return "1";
}
const second = async() => {
    const s = await delay(2000, 2);
    console.log(s)
    return "2";
}
const third = async() => {
    const t = await delay(3000, 3);
    console.log(t)
    return "3";
}

const num = async () => {
    const num1 = await first();
    const num2 = await second();
    const num3 = await third();
    return num1 + num2 + num3;
} 

num().then(console.log)
```
```
// ì‹¤í–‰ ê²°ê³¼
1
2
3
123
```

ì´ë ‡ê²Œ í•˜ë©´ awaitë¡œ ê¸°ë‹¤ë ¤ì£¼ê¸° ë•Œë¬¸ì— 1ì´ˆ í›„ì— `first()`ê°€ 2ì´ˆ í›„ì— `second()`ê°€ 3ì´ˆ í›„ì— `third()`ê°€ ì‹¤í–‰ëœë‹¤

awaitëŠ” ê¸°ë‹¤ë¦¬ë¼ëŠ” ì†Œë¦¬ì´ë‹¤. ë”°ë¼ì„œ ê·¸ ë‹¤ìŒì¤„ì— ìˆëŠ” ì½”ë“œëŠ” awaitê°€ ì“°ì¸ ì½”ë“œì˜ ì‹¤í–‰ì´ ë‹¤ ëë‚ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.

`await`ëŠ” ì¼ë°˜ì ì¸ ì½”ë“œì—ì„œ ì‚¬ìš©í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. ë¬´ì¡°ê±´ `async`ì™€ í•¨ê»˜ ì‚¬ìš©ë˜ì–´ì•¼ í•œë‹¤

`async`ë¥¼ í•¨ìˆ˜ì— ì‚¬ìš©í•˜ë©´ promiseë¥¼ ë°˜í™˜í•œë‹¤ ë”°ë¼ì„œ thenì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```javascript
async function f() {
  return 1;
}
const a = f()
console.log(a)
```
```
// ì‹¤í–‰ ê²°ê³¼
Promise { 1 }
```

```javascript
async function f() {
  return 1;
}
f().then(console.log)
```
```
// ì‹¤í–‰ ê²°ê³¼
1
```

<br>

## ë³‘ë ¬ì  ì²˜ë¦¬
ìœ„ì˜ ì½”ë“œëŠ” 1ì´ˆ í›„ì— `first()`ê°€ 2ì´ˆ í›„ì— `second()`ê°€ 3ì´ˆ í›„ì— `third()`ê°€ ì‹¤í–‰ë˜ì„œ ì•½ 6ì´ˆì˜ ì‹œê°„ì´ ì†Œìš”ëœë‹¤. Promiseì˜ `Promise.all()`ê³¼ ê°™ì´ ë³‘ë ¬ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ë ¤ë©´ promiseë¥¼ ìƒì„±í•´ì£¼ë©´ ëœë‹¤.

(ì•„ë«ë¶€ë¶„ì˜ numë§Œ ìˆ˜ì •)
```javascript
const num = async () => {
    const num1Promise = first();
    const num2Promise = second();
    const num3Promise = third();        // promise ìƒì„± (ì¦‰ì‹œì‹¤í–‰)
    const num1 = await(num1Promise);
    const num2 = await(num2Promise);
    const num3 = await(num3Promise);
    return num1 + num2 + num3;
} 
```
ì´ë ‡ê²Œ ë˜ë©´ ì„ ì–¸ëœ ì‹œì ë¶€í„° ëª¨ë‘ ë™ì¼í•œ ì‹œì ì— awaitë˜ê¸° ë•Œë¬¸ì— 1ì´ˆ ê°„ê²©ìœ¼ë¡œ ì‹¤í–‰ì´ ëœë‹¤.

```javascript
const num = async () => {
    const num1Promise = first();
    const num1 = await(num1Promise);

    const num2Promise = second();
    const num2 = await(num2Promise);

    const num3Promise = third();      
    const num3 = await(num3Promise);
    return num1 + num2 + num3;
} 
```
ë§Œì•½ ìˆœì„œê°€ ìœ„ì™€ê°™ì´ ë˜ìˆëŠ” ê²½ìš° ì‹¤í–‰í•˜ëŠ” ì‹œì ì´ ì´ì „ì˜ í”„ë¡œë¯¸ìŠ¤ ì¢…ë£Œ(await)ì´ê¸° ë•Œë¬¸ì— ê°ê° 1ì´ˆ 2ì´ˆ 3ì´ˆì˜ ê°„ê²©ìœ¼ë¡œ ê²°ê³¼ê°€ ì¶œë ¥ëœë‹¤

### <u>í•˜ì§€ë§Œ ë³‘ë ¬ì ìœ¼ë¡œ ìˆ˜í–‰í• ë•ŒëŠ” `Promise.all()`ì„ ì‚¬ìš©í•˜ì (ê°„ê²°)</u>





